<!DOCTYPE html>
<html>
  <head>
    <title>Local Citation Network</title>
    <meta charset="utf-8">
    <meta name="description" content="This web app aims to help scientists with their literature review using reference data from Microsoft Academic, Crossref and OpenCitations. It visualizes citation networks defined by the references of a given set of input articles and the most cited references are suggested for further review.">
    <meta name="author" content="Tim Woelfle">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="lib/buefy.min.css">
    <script src="lib/vue.js"></script>
    <script src="lib/buefy.min.js"></script>
    <script src="lib/vis-network.min.js"></script>
    <style>
      html {
        font-size: 9pt;
        overflow-y: auto;
        scrollbar-width: thin;
      }
      
      /* Flexible height management */
      
      .columns {
        padding: 0;
        margin: 0;
      }
      
      .column, .b-tabs:not(:last-child), .columns:not(:last-child) {
        margin-bottom: 0;
        padding-bottom: 0;
      }
      
      .b-tabs .tab-content {
        padding: 0;
      }
      
      .b-tabs:first-child .tab-content {
        padding-left: 1rem;
      }
      
      div.content {
        padding-top: 10px
      }

      .tab-item {
        height: calc(100vh - 8.5rem);
        overflow-x: hidden;
        overflow-y:auto;
        scrollbar-width: thin;
      }
      
      section.hero.is-fullheight {
        min-height: 90vh;
      }
      
      /* Menu */
      
      h1.title:after {
        content: "beta";
        font-size: 0.4em;
        color: #999
      }
    
      li.navbar-item {
        padding: 0.5rem 0.2rem
      }

      /*label.upload {
        display: inline;
      }*/

      .navbar-end button, h2 button {
        width: 40px;
      }

      /* Hoverable h2 tabs */

      li h2.title {
        color: #999999;
      }

      li.is-active h2.title, li h2.title:hover {
        color: #000000;
      }

      /* Icon replacements */

      .b-table .table tr.is-selected .chevron-cell > a {
        color: #fff !important;
      }

      .mdi-chevron-right:before {
        content: "‚ùØ";
        font-style: normal;
      }

      .mdi-magnify:before {
        content: "üîç";
        font: 1.3em bold sans-serif;
      }

      .mdi-close:before {
        content: "√ó";
        font: 1.3em bold sans-serif;
      }

      .mdi-folder:before {
        content: "üìÅ";
        font: 1.3em bold sans-serif;
      }

      .mdi-delete:before {
        content: "üóë";
        font: 1.5em bold sans-serif;
      }

      .mdi-floppy:before {
        content: "üíæ";
        font: 1.4em bold sans-serif;
      }

      .mdi-envelope:before {
        content: "üìß";
        font: 1.5em bold sans-serif;
      }

      .mdi-bird:before {
        content: "üê¶";
        font: 1.5em bold sans-serif;
      }

      /* Vis.js Network tooltip */

      div.vis-tooltip {
        font-size: 0.8em;
        white-space: normal;
        max-width: 250px;
        word-wrap: break-word;
        padding: 5px;
      }
    </style>
  </head>
  <body>
    <section id="app">
      <b-navbar style="border-bottom: 1px solid #dbdbdb; overflow-x:auto; overflow-y: hidden; scrollbar-width: thin">
        <template slot="brand">
          <a class="navbar-item" href="">
            <h1 class="title">Local Citation Network</h1>
          </a>
        </template>
          
        <template slot="start">
          <ul class="buttons">
            <b-navbar-item tag="li" v-for="item, index in graphs" :key="index" class="navbar-item">
              <b-button :type="(index==currentGraphIndex) ? 'is-primary' : ''" :title="item.tabTitle" @click="showArticlesTab='inputArticles'; currentGraphIndex=index" rounded>
                {{ item.tabLabel }}
                <a title="Close tab" class="delete" @click.stop="clickCloseTab(index)"></a> <!-- .stop prevents event propagation to parent @click event -->
              </b-button>
            </b-navbar-item>
            <b-navbar-item tag="li"><b-button @click="clickButtonAdd" loading rounded v-if="isLoading" style="width:100px" alt="To cancel loading activate 'Autosave results locally' (disk icon on the right) and refresh page."></b-button></b-navbar-item>
          </ul>
        </template>
          
        <template slot="end">
          <ul class="buttons">
            <b-navbar-item tag="li"><b-button @click="clickButtonAdd" rounded type="is-dark" title="Add network based on references from a single source DOI" :disabled="isLoading ? true : false"><span style="font: 1.4em sans-serif;">+</span></b-button></b-navbar-item>
            <b-navbar-item tag="li"><b-upload v-model="file" :disabled="isLoading ? true : false"><a class="button is-dark is-rounded" title="Scan text file for DOIs" :disabled="isLoading ? true : false"><b-icon icon="folder"></b-icon></a></b-upload></b-navbar-item>
            <b-navbar-item tag="li"><b-button @click="clickCloseAllTabs" rounded type="is-dark" title="Close all tabs" icon-right="delete"></b-button></b-navbar-item>
            <b-navbar-item tag="li"><b-button @click="clickToggleAutosave" rounded :type="(autosaveResults) ? '' : 'is-dark'" title="Autosave results locally" icon-right="floppy"></b-button></b-navbar-item>
            <b-navbar-item tag="li"><b-button @click="clickToggleAPI" rounded type="is-dark" title="Toggle API: Microsoft Academic / Crossref / OpenCitations" :disabled="isLoading ? true : false"><span style="font: 1.4em sans-serif;">{{ (this.API === 'Microsoft Academic') ? 'MA' : ((this.API === 'Crossref') ? 'CR' : 'OC') }}</span></b-button></b-navbar-item>
            <b-navbar-item tag="li"><b-button @click="showFAQ = !showFAQ" rounded type="is-dark" title="Frequently asked questions"><span style="font: 1.4em sans-serif;">?</span></b-button></b-navbar-item>
            <b-navbar-item tag="li"><a @click="indexFAQ = 'contact'; showFAQ = true;" href="#contact" class="button is-dark is-rounded" title="Contact app creator"><b-icon icon="envelope"></b-icon></a></b-navbar-item>
            <b-navbar-item tag="li"><a href="https://twitter.com/timwoelfle/" target="_blank" class="button is-dark is-rounded" title="Twitter"><b-icon icon="bird"></b-icon></a></b-navbar-item>
          </ul>
        </template>
      </b-navbar>

      <div class="section columns" v-if="currentGraphIndex !== undefined">
        <b-tabs v-model="showArticlesTab" class="column is-three-fifths" size="is-small" :style="'display: ' + ((fullscreenNetwork) ? 'none' : 'block')">
          <b-tab-item value="inputArticles">
            <template slot="header">
              <h2 class="title is-4">Input articles ({{ currentGraph.input.length }})</h2>
            </template>
            <div class="content">
              <template v-if="currentGraph.source.id">
                <p>
                  Based on the references of the following source article (‚óÜ)
                  <b-tooltip dashed multilined position="is-bottom" type="is-dark"
                    label="Copy this link's address and share! (Right-click ‚Üí 'Copy Link Location')">
                    <a :href="'?API=' + encodeURIComponent(currentGraph.API) + '&source=' + ((currentGraph.source.doi) ? currentGraph.source.doi : currentGraph.source.id)" @click="e =>  e.preventDefault()"> (link to share)</a>
                  </b-tooltip>:
                </p>
                <p>
                  <b-tooltip dashed multilined position="is-bottom" type="is-dark"
                    :label="authorString(currentGraph.source.authors)"
                    v-if="currentGraph.source.authors.length > 5">
                    {{ authorStringShort(currentGraph.source.authors) }},
                  </b-tooltip>
                  <template v-else>
                    {{ authorStringShort(currentGraph.source.authors) }},
                  </template>
                  <a :href="'https://doi.org/' + currentGraph.source.doi" target="_blank"><em>{{ currentGraph.source.title }}</em></a>. {{ currentGraph.source.journal }} {{ currentGraph.source.year }}.
                  <span :title="currentGraph.source.abstract"
                    v-if="currentGraph.source.abstract"
                    style="border-bottom: 1px dashed #b5b5b5; cursor: help">
                    (Abstract)
                  </span>
                </p>
              </template>
              <p v-else>
                Based on DOIs from the following file / list: {{ currentGraph.tabLabel }}
                <b-tooltip dashed multilined position="is-bottom" type="is-dark"
                  label="Copy this link's address and share! (Right-click ‚Üí 'Copy Link Location')">
                  <a :href="'?name=' + encodeURIComponent(currentGraph.tabLabel) + '&API=' + encodeURIComponent(currentGraph.API) + '&listOfDOIs=' + currentGraph.source.references.join(',')" @click="e =>  e.preventDefault()"> (link to share)</a>
                </b-tooltip>
              </p>
              <p>
                Data retrieved through <a @click="indexFAQ = 'switch-api'; showFAQ = true;" href="#switch-api">{{ currentGraph.API }}</a> API on {{ new Date(currentGraph.timestamp).toLocaleDateString() }}
                <b-tooltip dashed multilined type="is-dark" position="is-bottom" :label="completenessLabel">
                  <a @click="indexFAQ = 'completeness'; showFAQ = true;" href="#completeness"
                    :style="'color: ' + ((completenessPercent > 40) ? '' : '#ff3860')">
                    (estimated completeness: {{ completenessPercent }}%).
                  </a>
                </b-tooltip>
              </p>
            </div>
            <b-field>
              <b-select v-model="filterColumn">
                <option value="titleAbstract">Title & Abstract</option>
                <option value="authors">Authors</option>
                <option value="year">Year</option>
                <option value="journal">Journal</option>
              </b-select>
              <b-input v-model="filterString" icon="magnify" placeholder="Filter articles..." expanded
                :icon-right="filterString ? 'close' : undefined"
                icon-right-clickable
                @icon-right-click="filterString=''"></b-input>
              <span class="button is-static">{{ inputArticlesFiltered.length + " / " + currentGraph.input.length }}</span>
            </b-field>
            <b-table ref="inputArticlesTable" :data="inputArticlesFiltered" default-sort="inDegree" default-sort-direction="desc" :selected.sync="selectedInputArticle"
              :has-detailed-visible="row => (row.abstract || (currentGraph.source.citationContext && currentGraph.source.citationContext[row.id]))"
              @keyup.native.arrow-left="toggleArticle"
              @keyup.native.arrow-right="toggleArticle"
              :detailed="(currentGraph.API !== 'OpenCitations') ? true : false" hoverable striped narrowed focusable>
              <template slot="detail" slot-scope="props">
                <div class="content">
                  <p v-if="props.row.abstract" v-html="formatAbstract(props.row.abstract)"></p>
                  <template v-if="currentGraph.source.citationContext && currentGraph.source.citationContext[props.row.id]">
                    <h4 class="title is-6">Citation context in {{ currentGraph.source.authors[0].LN + ' ' + currentGraph.source.year }}:</h4>
                    <ul>
                      <li v-for="context in currentGraph.source.citationContext[props.row.id]"><q cite="'https://doi.org/' + props.row.doi">{{ context }}</q> -{{ currentGraph.source.authors[0].LN + ' ' + currentGraph.source.year }}</li>
                    </ul>
                  </template>
                </div>
              </template>
              
              <b-table-column field="numberInSourceReferences" label="#" :visible="currentGraph.API === 'Crossref' || !currentGraph.source.id" sortable v-slot="props"> <!-- FIXME doesn't work for files -->
                {{ props.row.numberInSourceReferences }}
              </b-table-column>
              <b-table-column label="Title" v-slot="props">
                <!-- id is for scrolling to row when network node is clicked -->
                <span :id="props.row.id">
                  {{ props.row.isSource ? 'Source: ' : ''  }}
                  <template v-if="props.row.doi">
                    <a :href="'https://doi.org/' + props.row.doi" target="_blank">{{ props.row.title }}</a>
                  </template>
                  <template v-else>
                    {{ props.row.title }}
                  </template>
                </span>
              </b-table-column>
              <b-table-column field="authors" label="First Author" v-slot="props">
                <b-tooltip dashed multilined :label="authorString(props.row.authors)" position="is-left" type="is-dark">
                  {{ props.row.authors[0].LN }}
                </b-tooltip>
              </b-table-column>
              <b-table-column field="year" label="Year" sortable v-slot="props">
                <b-tooltip dashed :label="props.row.journal" position="is-left" type="is-dark">
                  {{ props.row.year }}
                </b-tooltip>
              </b-table-column>
              <b-table-column field="citationsCount" label="Cit" meta="Estimated global incoming citations (how many papers cite this one)" sortable>
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="Estimated global incoming citations (click to open in Microsoft Academic)" position="is-left" dashed type="is-dark"
                    v-if="props.row.microsoftAcademicId">
                    <a :href="'https://academic.microsoft.com/paper/' + props.row.microsoftAcademicId + '/citedby'" target="_blank">{{ props.row.citationsCount }}</a>
                  </b-tooltip>
                  <b-tooltip label="Estimated number of global citations" dashed position="is-left" type="is-dark"
                    v-else>
                    {{ props.row.citationsCount }}
                  </b-tooltip>
                </template>
              </b-table-column>
              <b-table-column field="inDegree" label="InDeg" meta="In-Degree: Number of incoming citations from input articles"
                sortable :custom-sort="sortInDegreeWrapper">
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="In-Degree: Number of incoming citations from input articles" dashed position="is-left" type="is-dark">
                    {{ inDegree(props.row.id) }}
                  </b-tooltip>
                </template>
              </b-table-column>
              <b-table-column field="outDegree" label="OutDeg" meta="Out-Degree: Number of references (outgoing citations) to input articles"
                sortable :custom-sort="sortOutDegreeWrapper">
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="Out-Degree: Number of references (outgoing citations) to input articles" dashed position="is-left" type="is-dark">
                    {{ outDegree(props.row.id) }}
                  </b-tooltip>
                </template>
              </b-table-column>
              <b-table-column field="references.length" label="Ref" meta="References in paper" sortable>
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="Open new graph for the references of this article" position="is-left" type="is-dark">
                    <b-button @click.stop="clickOpenReferences(props.row)" type="is-primary" size="is-small"
                      :inverted="(selected === props.row) ? true : false"
                      :disabled="(isLoading || props.row.references.length === 0 || props.row.isSource) ? true : false">
                      {{ props.row.references.length }} ‚Üª
                    </b-button>
                  </b-tooltip>
                </template>
              </b-table-column>
            </b-table>
          </b-tab-item>
          <b-tab-item value="incomingSuggestions" v-if="currentGraph.incomingSuggestions.length">
            <template slot="header">
              <h2 class="title is-4">Incoming suggestions (‚ñ≤ {{ maxIncomingSuggestions }})</h2>
            </template>
            <div class="content">
              <p>
                <a @click="indexFAQ = 'incoming-suggestions'; showFAQ = true;" href="#incoming-suggestions">Incoming suggestions</a> are the locally most cited references from the input articles. They are generally older. Maximum:
                <select v-model="maxIncomingSuggestions">
                  <template v-for="val in [...Array(currentGraph.incomingSuggestions.length+1).keys()]">
                    <option :value="val" :selected="val == maxIncomingSuggestions">{{ val }}</option>
                  </template>
                </select>
              </p>
            </div>
            <!-- The following b-field and b-table are near identical with those of input articles. Different lines are indicated by comment. -->
            <b-field>
              <b-select v-model="filterColumn">
                <option value="titleAbstract">Title & Abstract</option>
                <option value="authors">Authors</option>
                <option value="year">Year</option>
                <option value="journal">Journal</option>
              </b-select>
              <b-input v-model="filterString" icon="magnify" placeholder="Filter articles..." expanded
                :icon-right="filterString ? 'close' : undefined"
                icon-right-clickable
                @icon-right-click="filterString=''"></b-input>
              <!-- this line differs from input articles -->
              <span class="button is-static">{{ incomingSuggestionsFiltered.length + " / " + maxIncomingSuggestions }}</span>
            </b-field>
            <!-- 'data' and 'selected.sync' differ from input articles. The 'has-detailed-visible' is shorter than for input articles as there's no possible citationContext for suggested articles -->
            <b-table ref="incomingSuggestionsTable" :data="incomingSuggestionsFiltered" default-sort="inDegree" default-sort-direction="desc" :selected.sync="selectedIncomingSuggestionsArticle"
              :has-detailed-visible="row => row.abstract"
              @keyup.native.arrow-left="toggleArticle"
              @keyup.native.arrow-right="toggleArticle"
              :detailed="(currentGraph.API !== 'OpenCitations') ? true : false" hoverable striped narrowed focusable>
              <template slot="detail" slot-scope="props">
                <div class="content">
                  <p v-html="formatAbstract(props.row.abstract)"></p>
                </div>
              </template>
              
              <b-table-column label="Title" v-slot="props">
                <!-- id is for scrolling to row when network node is clicked -->
                <span :id="props.row.id">
                  <template v-if="props.row.doi">
                    <a :href="'https://doi.org/' + props.row.doi" target="_blank">{{ props.row.title }}</a>
                  </template>
                  <template v-else>
                    {{ props.row.title }}
                  </template>
                </span>
              </b-table-column>
              <b-table-column field="authors" label="First Author" v-slot="props">
                <b-tooltip dashed multilined :label="authorString(props.row.authors)" position="is-left" type="is-dark">
                  {{ props.row.authors[0].LN }}
                </b-tooltip>
              </b-table-column>
              <b-table-column field="year" label="Year" sortable v-slot="props">
                <b-tooltip dashed :label="props.row.journal" position="is-left" type="is-dark">
                  {{ props.row.year }}
                </b-tooltip>
              </b-table-column>
              <b-table-column field="citationsCount" label="Cit" meta="Estimated global incoming citations (how many papers cite this one)" sortable>
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="Estimated global incoming citations (click to open in Microsoft Academic)" position="is-left" dashed type="is-dark"
                    v-if="props.row.microsoftAcademicId">
                    <a :href="'https://academic.microsoft.com/paper/' + props.row.microsoftAcademicId + '/citedby'" target="_blank">{{ props.row.citationsCount }}</a>
                  </b-tooltip>
                  <b-tooltip label="Estimated number of global citations" dashed position="is-left" type="is-dark"
                    v-else>
                    {{ props.row.citationsCount }}
                  </b-tooltip>
                </template>
              </b-table-column>
              <b-table-column field="inDegree" label="InDeg" meta="In-Degree: Number of incoming citations from input articles"
                sortable :custom-sort="sortInDegreeWrapper">
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="In-Degree: Number of incoming citations from input articles" dashed position="is-left" type="is-dark">
                    {{ inDegree(props.row.id) }}
                  </b-tooltip>
                </template>
              </b-table-column>
              <b-table-column field="outDegree" label="OutDeg" meta="Out-Degree: Number of references (outgoing citations) to input articles"
                sortable :custom-sort="sortOutDegreeWrapper">
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="Out-Degree: Number of references (outgoing citations) to input articles" dashed position="is-left" type="is-dark">
                    {{ outDegree(props.row.id) }}
                  </b-tooltip>
                </template>
              </b-table-column>
              <b-table-column field="references.length" label="Ref" meta="References in paper" sortable>
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="Open new graph for the references of this article" position="is-left" type="is-dark">
                    <b-button @click.stop="clickOpenReferences(props.row)" type="is-primary" size="is-small"
                      :inverted="(selected === props.row) ? true : false"
                      :disabled="(isLoading || props.row.references.length === 0 || props.row.isSource) ? true : false">
                      {{ props.row.references.length }} ‚Üª
                    </b-button>
                  </b-tooltip>
                </template>
              </b-table-column>
            </b-table>
          </b-tab-item>
          <b-tab-item value="outgoingSuggestions" v-if="currentGraph.outgoingSuggestions.length">
            <template slot="header">
              <h2 class="title is-4">Outgoing suggestions (‚ñº {{ maxOutgoingSuggestions }})</h2>
            </template>
            <div class="content">
              <p>
                <a @click="indexFAQ = 'outgoing-suggestions'; showFAQ = true;" href="#outgoing-suggestions">Outgoing suggestions</a> are citing the most input articles. They are generally newer. Maximum:
                <select v-model="maxOutgoingSuggestions">
                  <template v-for="val in [...Array(currentGraph.outgoingSuggestions.length+1).keys()]">
                    <option :value="val" :selected="val == maxOutgoingSuggestions">{{ val }}</option>
                  </template>
                </select>
              </p>
            </div>
            <!-- The following b-field and b-table are near identical with those of input articles. Different lines are indicated by comment. -->
            <b-field>
              <b-select v-model="filterColumn">
                <option value="titleAbstract">Title & Abstract</option>
                <option value="authors">Authors</option>
                <option value="year">Year</option>
                <option value="journal">Journal</option>
              </b-select>
              <b-input v-model="filterString" icon="magnify" placeholder="Filter articles..." expanded
                :icon-right="filterString ? 'close' : undefined"
                icon-right-clickable
                @icon-right-click="filterString=''"></b-input>
              <!-- this line differs from input articles -->
              <span class="button is-static">{{ outgoingSuggestionsFiltered.length + " / " + maxOutgoingSuggestions }}</span>
            </b-field>
            <!-- 'data' and 'selected.sync' differ from input articles. The 'has-detailed-visible' is shorter than for input articles as there's no possible citationContext for suggested articles -->
            <b-table ref="outgoingSuggestionsTable" :data="outgoingSuggestionsFiltered" default-sort="outDegree" default-sort-direction="desc" :selected.sync="selectedOutgoingSuggestionsArticle"
              :has-detailed-visible="row => row.abstract"
              @keyup.native.arrow-left="toggleArticle"
              @keyup.native.arrow-right="toggleArticle"
              :detailed="(currentGraph.API !== 'OpenCitations') ? true : false" hoverable striped narrowed focusable>
              <template slot="detail" slot-scope="props">
                <div class="content">
                  <p v-html="formatAbstract(props.row.abstract)"></p>
                </div>
              </template>
              
              <b-table-column label="Title" v-slot="props">
                <!-- id is for scrolling to row when network node is clicked -->
                <span :id="props.row.id">
                  <template v-if="props.row.doi">
                    <a :href="'https://doi.org/' + props.row.doi" target="_blank">{{ props.row.title }}</a>
                  </template>
                  <template v-else>
                    {{ props.row.title }}
                  </template>
                </span>
              </b-table-column>
              <b-table-column field="authors" label="First Author" v-slot="props">
                <b-tooltip dashed multilined :label="authorString(props.row.authors)" position="is-left" type="is-dark">
                  {{ props.row.authors[0].LN }}
                </b-tooltip>
              </b-table-column>
              <b-table-column field="year" label="Year" sortable v-slot="props">
                <b-tooltip dashed :label="props.row.journal" position="is-left" type="is-dark">
                  {{ props.row.year }}
                </b-tooltip>
              </b-table-column>
              <b-table-column field="citationsCount" label="Cit" meta="Estimated global incoming citations (how many papers cite this one)" sortable>
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="Estimated global incoming citations (click to open in Microsoft Academic)" position="is-left" dashed type="is-dark"
                    v-if="props.row.microsoftAcademicId">
                    <a :href="'https://academic.microsoft.com/paper/' + props.row.microsoftAcademicId + '/citedby'" target="_blank">{{ props.row.citationsCount }}</a>
                  </b-tooltip>
                  <b-tooltip label="Estimated number of global citations" dashed position="is-left" type="is-dark"
                    v-else>
                    {{ props.row.citationsCount }}
                  </b-tooltip>
                </template>
              </b-table-column>
              <b-table-column field="inDegree" label="InDeg" meta="In-Degree: Number of incoming citations from input articles"
                sortable :custom-sort="sortInDegreeWrapper">
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="In-Degree: Number of incoming citations from input articles" dashed position="is-left" type="is-dark">
                    {{ inDegree(props.row.id) }}
                  </b-tooltip>
                </template>
              </b-table-column>
              <b-table-column field="outDegree" label="OutDeg" meta="Out-Degree: Number of references (outgoing citations) to input articles"
                sortable :custom-sort="sortOutDegreeWrapper">
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="Out-Degree: Number of references (outgoing citations) to input articles" dashed position="is-left" type="is-dark">
                    {{ outDegree(props.row.id) }}
                  </b-tooltip>
                </template>
              </b-table-column>
              <b-table-column field="references.length" label="Ref" meta="References in paper" sortable>
                <template v-slot:header="{ column }">
                  <b-tooltip :label="column.meta" dashed position="is-left" type="is-dark">
                    {{ column.label }}
                  </b-tooltip>
                </template>
                <template v-slot="props">
                  <b-tooltip label="Open new graph for the references of this article" position="is-left" type="is-dark">
                    <b-button @click.stop="clickOpenReferences(props.row)" type="is-primary" size="is-small"
                      :inverted="(selected === props.row) ? true : false"
                      :disabled="(isLoading || props.row.references.length === 0 || props.row.isSource) ? true : false">
                      {{ props.row.references.length }} ‚Üª
                    </b-button>
                  </b-tooltip>
                </template>
              </b-table-column>
            </b-table>
          </b-tab-item>
        </b-tabs>

        <b-tabs v-model="showAuthorNetwork" class="column" size="is-small" :animated="false">
          <b-tab-item>
            <template slot="header"><h2 class="title is-4">Citation network</h2></template>
            
            <div id="citationNetwork" style="height: 100%; cursor: pointer;"></div>
            <span style="position:absolute; top: 0px; left: 10px;"><a @click="fullscreenNetwork = !fullscreenNetwork;">({{ (fullscreenNetwork) ? 'show tables' : 'fullscreen network' }})</a></span>
            <span style="position:absolute; top: 0px; right: 0px">‚Üë newer articles</span>
            <span style="position:absolute; bottom: 0px; left: 10px;"><a @click="indexFAQ = 'citation-network'; showFAQ = true;" href="#citation-network">(how to read this network)</a></span>
            <span style="position:absolute; bottom: 0px; right: 0px">‚Üì older articles</span>
          </b-tab-item>
          <b-tab-item>
            <template slot="header"><h2 class="title is-4">Co-authorship network</h2></template>
            <div id="authorNetwork" style="height: 100%; cursor: pointer;"></div>
            <span style="position:absolute; top: 0px; left: 10px"><a @click="fullscreenNetwork = !fullscreenNetwork;">({{ (fullscreenNetwork) ? 'show tables' : 'fullscreen network' }})</a></span>
            <span style="position:absolute; top: 0px; right: 0px"><a @click="indexFAQ = 'author-network'; showFAQ = true;" href="#author-network">(how to read this network)</a></span>
            <b-field :label="'(only authors with a minimum of ' + minPublications + ' local articles are shown)'" custom-class="small"
              style="position:absolute; bottom: 0px; left: 10px">
              <b-slider v-model="minPublications" lazy :min="2" :max="10" ticks size="is-small"></b-slider>
            </b-field>
          </b-tab-item>
        </b-tabs>
      </div>
      
      <section class="hero is-fullheight" v-show="currentGraphIndex === undefined">
        <div class="hero-body">
          <div class="container has-text-centered">
            <b-loading :active.sync="isLoading"></b-loading>
            <h2 class="title">
              Click <b-button @click="clickButtonAdd" rounded type="is-dark" title="Add network based on references from a single source DOI"><span style="font: 1.4em sans-serif;">+</span></b-button> to enter source DOI<br>or scan a text file for DOIs instead <b-upload v-model="file"><a class="button is-dark is-rounded" title="Scan text file for DOIs"><b-icon icon="folder"></b-icon></a></b-upload>!
            </h2>
            (<a @click="loadExamples">Load examples instead</a> or see <a @click="showFAQ=true">Frequently asked questions</a>)
          </div>
        </div>
      </section>
      
      <b-modal :active.sync="showFAQ" :width="840" scroll="keep">
        <div class="card">
          <div class="card-header-title">
            <h3 class="title is-3">Instructions</h3>
          </div>
        
          <b-collapse id="about" :open="indexFAQ === 'about'" @open="indexFAQ = 'about'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">What is this web app about?</h4>
            </div>
            <div class="card-content content">
              <p>
                This web app aims to help scientists with their literature review using metadata from <a href="https://academic.microsoft.com" target="_blank">Microsoft Academic</a>, <a href="https://crossref.org" target="_blank">Crossref</a> and <a href="https://opencitations.net" target="_blank">OpenCitations</a>. Academic papers cite one another, thus creating a <a href="https://en.wikipedia.org/wiki/Citation_graph" target="_blank">citation network (= graph)</a>. Each node (= vertex) represents an article and each edge (= link / arrow) represents a reference / citation. Citation graphs are a topic of <a @click="indexFAQ = 'bibliometrics'" href="#bibliometrics">bibliometrics, for which other great software exists as well</a>.
              </p>
              <p>
                This web app visualizes subsets of the global citation network that I call "local citation networks", defined by the references of a given set of input articles. In addition, the locally most cited references missing in the set of input articles are suggested for further review.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="how-to-use" :open="indexFAQ === 'how-to-use'" @open="indexFAQ = 'how-to-use'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">How to use this web app?</h4>
            </div>
            <div class="card-content content">
              <p>
                There are basically two ways to create new networks: First, based on the references of a given paper. This could be a review or just an interesting paper you'd like to dig into deeper. Either click the + button at the top right and enter the <a href="https://en.wikipedia.org/wiki/Digital_object_identifier" target="_blank">digital object identifier (DOI)</a> of the source article or use the <a @click="indexFAQ = 'bookmarklet'" href="#bookmarklet">bookmarklet described below</a>.
              </p>
              <p>
                The second way to create a new network is to scan a text file for DOIs, which allows you to create your own unique lists of input articles. For example, this could be a .ris / .bib / .json file exported by your reference manager (e.g. <a href="https://www.zotero.org/" target="_blank">Zotero</a> or EndNote). In theory, you can scan any plain text file (PDFs and Microsoft Office files don't work). However, due to the multitude of characters allowed in DOIs, the system might not catch all of them correctly (see <a href="https://www.crossref.org/blog/dois-and-matching-regular-expressions/" target="_blank">this blog post by Crossref for more explanation</a>).
              </p>
              <p>
                Up to 5 tabs can be open at the same time, representing a different local citation network each. Only one query can be processed at a time, which is why some buttons are disabled when a query is still going on. Microsoft Academic seems to be able to process quite large numbers of references (I've successfully tried up to 500) but Crossref's API returns an error when trying to process too many references (depending on the length of the search string, around >110 DOIs).  
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="bookmarklet" :open="indexFAQ === 'bookmarklet'" @open="indexFAQ = 'bookmarklet'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">How to use the bookmarklet to open references of a paper?</h4>
            </div>
            <div class="card-content content">
              <p>
                A <a href="https://en.wikipedia.org/wiki/Bookmarklet" target="_blank">bookmarklet</a> is a small program that can be saved as a bookmark in your browser. This particular bookmarklet allows you to open a new network in Local Citation Network directly when surfing many journals' websites (e.g. Nature, Science, Lancet, ...) instead of having to enter the DOI manually. Save the following link as a bookmark (e.g. by dragging it to your bookmarks bar or by right-click ‚Üí "Bookmark This Link" in Firefox) and then click on it when reading an article (e.g. <a href="https://www.nature.com/articles/s41586-020-2196-x" target="_blank">this one</a>): <a href="javascript:(function(){if(rootDOI=document.querySelector('meta[name=\'citation_doi\']')||document.querySelector('meta[name=\'evt-doiPage\']')||document.querySelector('meta[name=\'dc.Identifier\']'),!rootDOI)return alert('Unfortunately could not extract references.');rootDOI=rootDOI.content.toUpperCase(),lis=document.querySelectorAll('#references-section ul > li'),lis.length||(lis=document.querySelectorAll('ol.c-article-references > li')),lis.length||(lis=document.querySelectorAll('ol.cit-list > li')),lis.length||(lis=document.querySelectorAll('div.References')),lis.length||(lis=document.querySelectorAll('ol#referenceContent > li')),lis.length||(lis=document.querySelectorAll('ol.referenceList > li')),lis.length||(lis=document.querySelectorAll('.ref-list .ref')),lis.length||(lis=document.querySelectorAll('.references > li')),lis.length||(lis=document.querySelectorAll('li.ref')),lis.length||(lis=document.querySelectorAll('table.references tr')),listOfReferenceDOIs=Array.from(lis).map(e=>(e=decodeURIComponent(e.innerHTML).match(/10\.\d{4,9}\/[-._;()/:A-Z0-9]+[-_()/:A-Z0-9]+/gi))&&e.map(e=>e.toUpperCase()).filter(e=>e!==rootDOI)[0]),listOfReferenceDOIs.length?window.open('https://timwoelfle.github.io/Local-Citation-Network/index.html?name=Custom&editList=true&listOfDOIs='+listOfReferenceDOIs.join(',')):alert('Unfortunately could not extract references.')}())">Open in Local Citation Network</a>.
              </p>
              <p>
                The bookmarklet is particularly useful when you want to use Local Citation Network as a "second screen" when you are reading a paper, showing you its references in the correct order and allowing you to view their abstracts and to identify seminal articles as well as additional suggested articles. When using the bookmarklet, the reference list is not obtained through Microsoft Academic itself but scanned directly from the website and then only subsequently this list of references is sent to Microsoft Academic to construct the Citation Network and to obtain suggestions. This way, the original order of references is preserved, which is not the case when using the Microsoft Academic API.
              </p>
              <p>
                Unfortunately, not all journals' websites are supported. If you know how to code, check out the <a href="https://github.com/timwoelfle/Local-Citation-Network/blob/master/bookmarklet.js" target="_blank">code of the bookmarklet on GitHub</a> and extend it to support more journals! In this light it might be worth updating the bookmark in your browser from time to time to benefit from possible improvements.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="incoming-suggestions" :open="indexFAQ === 'incoming-suggestions'" @open="indexFAQ = 'incoming-suggestions'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">Where do the 'Incoming suggestions' come from?</h4>
            </div>
            <div class="card-content content">
              <p>
                'Incoming suggestions' are the locally most cited references from the input articles, thus they have the highest in-degree. In order to create the local citation network, this web apps attempts to retrieve reference-lists from all input articles (usually some are missed, <a @click="indexFAQ = 'completeness'" href="#completeness">see completeness</a>) and then orders these references by the number of local incoming citations (in-degree, <a @click="indexFAQ = 'citation-network'" href="#citation-network">see network</a>). Some of these references might be among the input articles, depending on how connected they are. However, some of them usually aren't among the input articles and then become 'incoming suggestions' (they must be referenced by at least two input articles). Currently the arbitrary maximum number of incoming suggestions is 20 in order to avoid API overload.
              </p>
              <p>
                Keep in mind that because of the nature of this approach, 'incoming suggestions' are generally older than the input articles. This can help identifying seminal papers of the field but not newer state-of-the-art research. In order to identify newer articles, use <a @click="indexFAQ = 'switch-api'" href="#switch-api">OpenCitations</a> to obtain <a @click="indexFAQ = 'outgoing-suggestions'" href="#outgoing-suggestions">outgoing suggestions</a>.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="outgoing-suggestions" :open="indexFAQ === 'outgoing-suggestions'" @open="indexFAQ = 'outgoing-suggestions'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">Where do the 'Outgoing suggestions' come from?</h4>
            </div>
            <div class="card-content content">
              <p>
                'Outgoing suggestions' are citing the most input articles, thus they have the highest out-degree. They are generally newer than the input articles. Only the <a @click="indexFAQ = 'switch-api'" href="#switch-api">OpenCitations API</a> serves a field 'citation', which is why it's the only API supporting this feature. Outgoing suggestions must cite at least 2 input articles and currently their arbitrary maximum is 20 in order to avoid API overload.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="citation-network" :open="indexFAQ === 'citation-network'" @open="indexFAQ = 'citation-network'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">How to read the citation network?</h4>
            </div>
            <div class="card-content content">
              <p>
                Zoom by scrolling and pan by dragging. Each node (= vertex) represents an article. They are ordered by year from top (newer) to bottom (older), with each year colored differently. The size of the nodes depends on the sum of their "in-degree", the number of citations the paper received from the input articles, and their 'out-degree', the number of input articles they cite. The local 'in-degree' is not always proportional to the global citation count. Input articles are circle-shaped nodes ( ‚óè ), except for the source article, which is diamond-shaped (‚óÜ), if applicable. Up-pointing triangles (‚ñ≤) represent <a @click="indexFAQ = 'incoming-suggestions'" href="#incoming-suggestions">incoming suggestions</a>, which are cited by the input articles but not part of them themselves. Down-pointing triangles (‚ñº) are <a @click="indexFAQ = 'outgoing-suggestions'" href="#outgoing-suggestions">outgoing suggestions</a>, which are citing the input articles but not part of them themselves.
              </p>
              <p>
                Each edge (= link / arrow) represents a reference and citation at the same time: They are references from their outgoing nodes and citations for their incoming nodes. Usually papers can only cite older papers, hence edges tend to point downwards (or sidewards for citations of the same year). Technically this is called a <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph" target="_blank">directed acyclic graph</a>.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="author-network" :open="indexFAQ === 'author-network'" @open="indexFAQ = 'author-network'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">How to read the co-authorship network?</h4>
            </div>
            <div class="card-content content">
              <p>
                This "local" author network shows the commonest authors among the source, input and suggested articles. Depending on the discipline, the number of (co)authors among a set of multiple articles can quickly rise to the hundreds, which is why this author network only shows authors with a minimum number of local articles (not to be mistaken with their global number of publications, which is usually much higher). The default minimum number of local articles is determined so that this network shows no more than 50 authors, but it can be changed with the slider at the bottom from 2 to 10.
              </p>
              <p>
                Each node (= vertex) represents an author. The size depends on their number of local articles and the color depends on the author-cluster they first appear in. Diamond-shaped (‚óÜ) nodes are also authors of the source article whose references define the input articles. Click authors to filter input & suggested articles, ctrl+click to filter for more than one author.
              </p>
              <p>
                Each edge (= link) represents a collaboration between two authors among the source, input and suggested articles, the width indicating the number of collaborations. Click edges to filter input & suggested articles.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="switch-api" :open="indexFAQ === 'switch-api'" @open="indexFAQ = 'switch-api'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">Which API should be used and how to switch?</h4>
            </div>
            <div class="card-content content">
              <p>
                Microsoft Academic (MA) is used by default because it is usually the most comprehensive and also includes abstracts. Switch the API with the button indicating MA / CR / OC in the top-right menu. See <a @click="indexFAQ = 'apis-used'" href="#apis-used">background</a> for more details on the APIs used.
              </p>
              <p>
                Crossref (CR) has the advantage that it usually returns reference lists in their <a @click="indexFAQ = 'original-order'" href="#original-order">original order</a> (alternatively you can use the <a @click="indexFAQ = 'bookmarklet'" href="#bookmarklet">bookmarklet</a>). Also, it allows for the most accurate estimation of the <a @click="indexFAQ = 'completeness'" href="#completeness">reference-list completeness</a>, it's usually very fast and can handle fairly large input lists.
              </p>
              <p>
                OpenCitations (OC) is the only API featuring <a @click="indexFAQ = 'outgoing-suggestions'" href="#outgoing-suggestions">outgoing suggestions</a>, which are newer than the input articles. However, it can be quite slow and often returns an error for larger input lists.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="autosave" :open="indexFAQ === 'autosave'" @open="indexFAQ = 'autosave'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">What does 'Autosave results locally' do?</h4>
            </div>
            <div class="card-content content">
              <p>
                When activated, this option caches your recent networks (up to 5 tabs) and your settings (including your personal Microsoft Academic API key) locally in your browser in the so-called localStorage. When you revisit this web app, you can pick up where you left. When deactivated, this data is deleted.
              </p>
            </div>
          </b-collapse>
        
          <div class="card-header-title">
            <h3 class="title is-3">Troubleshooting</h3>
          </div>
          <b-collapse class="card" id="supported-browsers" :open="indexFAQ === 'supported-browsers'" @open="indexFAQ = 'supported-browsers'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">This web app is not working!? Which browsers are supported?</h4>
            </div>
            <div class="card-content content">
              <p>
                I've tested with current versions of Firefox, Safari and Chrome (as of November 2019) and made sure this web app runs in these. Microsoft Edge and Microsoft Internet Explorer are unfortunately not supported and do not work at all right now. This web app is meant for desktop use and not optimized for smartphones, which have not been tested at all. I'm a single person and created this web app in my spare time for free and for fun, so I don't have the time and resources to test all possible devices, web browsers and scenarios. This web app is <a @click="indexFAQ = 'open-source'" href="#open-source">open source</a>, feel free to support it by extending compatibility or optimizing mobile / tablet use! If you find a bug or problem with the newest versions of Firefox / Safari / Chrome, please <a href="https://github.com/timwoelfle/Local-Citation-Network/issues" target="_blank" title="Report bug on GitHub">report it on GitHub</a> or <a @click="indexFAQ = 'contact'" href="#contact">contact me</a>.
               </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="slow-queries" :open="indexFAQ === 'slow-queries'" @open="indexFAQ = 'slow-queries'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">The queries have turned very slow!? / How to cancel loading?</h4>
            </div>
            <div class="card-content content">
              <p>
                Both the Microsoft Academic API and the Crossref API are public with varying response speeds depending on their overall usage and workload. In addition, I hypothesize they might be throttling individual users (as identified by IP address) when they perform too many queries in a row. Checking your internet connection, only querying what's really important, <a @click="indexFAQ = 'switch-api'" href="#switch-api">switching to the other API</a> and trying again later might help!
              </p>
              <p>
                Sometimes (particularly with unstable internet connections) queries seem to run forever. In case you want to cancel loading, activate 'Autosave results locally' (<a @click="indexFAQ = 'autosave'" href="#autosave">see autosave</a>) and refresh page. You can deactivate autosave afterwards again.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="completeness" :open="indexFAQ === 'completeness'" @open="indexFAQ = 'completeness'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">Is the data complete? / Some references are missing!?</h4>
            </div>
            <div class="card-content content">
              <p>
                The data is usually incomplete. Some DOIs cannot be found at all in Microsoft Academic / Crossref / OpenCitations and for those that are found, often some metadata like authors, abstracts or reference-lists are missing (particularly in Crossref and OpenCitations). For the citation network and incoming suggestions, the completeness of the reference-lists is most important. Usually Microsoft Academic's data is more complete, which is currently turned <em>{{ (API === 'Microsoft Academic') ? 'on' : 'off' }}</em> (<a @click="indexFAQ = 'switch-api'" href="#switch-api">how to toggle</a>).
              </p>
              <p>
                The estimated completeness can be seen above the search bar in the "Input articles" tab and is calculated in the following way: For Microsoft Academic & OpenCitations it is the fraction of input articles that have reference-lists themselves (multiplied by the fraction of specified DOIs found, in case of an input list).
              </p>
              <p>
                Crossref allows more subtle calculation, as it often also provides the total reference count, which is often larger than the reference-list of DOIs (older references often don't have DOIs and neither do some specific books, papers or conference abstracts). The estimated completeness is thus calculated as the product of three fractions:
              </p>
              <ol>
                <li>Source reference completeness: (Number of input articles found in Crossref) / (Total reference count of source or total number of DOIs in file)</li>
                <li>(Number of input articles that have reference-lists themselves) / (Number of input articles)</li>
                <li>Average input articles' reference completeness among those input articles that do have reference-lists: (Length of reference-list) / (Total reference count)</li>
              </ol>
            </div>
          </b-collapse>
          <b-collapse class="card" id="original-order" :open="indexFAQ === 'original-order'" @open="indexFAQ = 'original-order'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">How can I preserve the original order of references in the input article list?</h4>
            </div>
            <div class="card-content content">
              <p>
                Unfortunately, Microsoft Academic does not seem to save the original order in which references appear in an article, at least it does not return it via its API. However, you can <a @click="indexFAQ = 'bookmarklet'" href="#bookmarklet">use the bookmarklet</a> to open reference lists in their original order.
              </p>
              <p>
                Alternatively, you can use Crossref, which does save the original order of references. See here <a @click="indexFAQ = 'switch-api'" href="#switch-api">how to switch the API used</a>.
              </p>
            </div>
          </b-collapse>

          <div class="card-header-title">
            <h3 class="title is-3">Background</h3>
          </div>
          <b-collapse class="card" id="bibliometrics" :open="indexFAQ === 'bibliometrics'" @open="indexFAQ = 'bibliometrics'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">What is bibliometrics? What other software can you recommend?</h4>
            </div>
            <div class="card-content content">
              <p>
                Bibliometrics is a part of information science that uses <a href="https://en.wikipedia.org/wiki/Bibliometrics" target="_blank">statistical methods to analyze publications</a>. It emcompasses scientometrics, which is specifically looking at scientific publications, and citation analysis.
              </p>
              <p>
                A highly recommended tool similar in spirit to this one is <a href="http://citationgecko.com/" target="_blank">Citation Gecko</a> (based on Crossref and OpenCitations), which I didn't know when creating Local Citation Network. The main difference is that you start with a small number of seed articles (5-6 are recommended) and incrementally increase the network by adding recommended articles to the pool of seed articles. Recommended articles include all references and even global citations. Check out this <a href="https://leidenmadtrics.nl/articles/local-citation-network-and-citation-gecko-making-literature-discovery-fun" target="_blank">guest post I've written for the blog Leiden Madtrics comparing the two tools</a>.
              </p>
              <p>
                Other great software to help with bibliometric / scientometric analyses include <a href="https://harzing.com/resources/publish-or-perish" target="_blank">Anne-Wil Harzing's Publish or Perish</a>, which allows sophisticated queries of a plethora of APIs including Microsoft Academic and Crossref but also Google Scholar, Scopus and Web of Science. If you're looking to create more complex networks than this web app allows, check out the Leiden University's great <a href="https://www.vosviewer.com/" target="_blank">VOSviewer</a> and <a href="https://www.citnetexplorer.nl/" target="_blank">CitNetExplorer</a>, which allow you to create and customize everything from citation networks to author networks, university networks and journal networks. VOSviewer also allows text mining and co-occurrence networks.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="apis-used" :open="indexFAQ === 'apis-used'" @open="indexFAQ = 'apis-used'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">Where is the data coming from, which API is used?</h4>
            </div>
            <div class="card-content content">
              <p>
                Local Citation Network supports APIs from <a href="https://academic.microsoft.com" target="_blank">Microsoft Academic</a>, <a href="https://crossref.org">Crossref</a> and <a href="https://opencitations.net" target="_blank">OpenCitations</a>. Microsoft Academic is the default as it is most comprehensive and also includes abstracts. It's a freely available academic search-engine based on the proprietory <a href="https://www.microsoft.com/en-us/research/project/microsoft-academic-graph/" target="_blank">Microsoft Academic Graph</a> (similar to Clarivate's Web of Science and Elsevier's Scopus, both of which require (paid) subscriptions). <a href="https://doi.org/10.1007/s11192-016-2026-y" target="_blank" title="Harzing, 2016">Several</a> <a href="https://doi.org/10.1007%2Fs11192-017-2535-3" target="_blank" title="Hug, 2017">publications</a> <a href="https://doi.org/10.1007/s11192-016-2185-x" target="_blank" title="Harzing, 2017">have</a> <a href="https://doi.org/10.1007%2Fs11192-017-2567-8" target="_blank" title="Haunschild, 2017">analyzed</a> the quality and coverage of Microsoft Academic, with overall very promising results. <a href="https://doi.org/10.1007/s11192-017-2247-8" target="_blank">Hug et al. (2017)</a> have said: "The citation analyses in MA [Microsoft Academic] and Scopus yield uniform results". Microsoft Academic's API needs a personalized key to use, which is free for up to 10,000 transactions per month. This web app comes with a test key, but it's faster and more reliable to <a href="https://msr-apis.portal.azure-api.net/products/project-academic-knowledge" target="_blank">get your own free key here</a>!
              </p>
              <p>
                Crossref is a not-for-profit organization that collects metadata from scholarly journals and publications. OpenCitations is an independent infrastructure organization extending on these ideas, not just providing (outgoing) reference-lists, but also (incoming) citations for each indexed article. Thanks to the formidable <a href="https://i4oc.org/" target="_blank">Initiative for Open Citations (I4OC)</a>, the coverage of Crossref and OpenCitations has increased vastly. However, some journals still do not support these ideals - feel free to write them, in case you find one! <a href="https://www.crossref.org/services/metadata-delivery/rest-api/" target="_blank">Crossref's API</a> and <a href="https://opencitations.net/querying" target="_blank">OpenCitations' API</a> are freely available.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="google-scholar" :open="indexFAQ === 'google-scholar'" @open="indexFAQ = 'google-scholar'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">Why aren't you using Google Scholar or Semantic Scholar's API?</h4>
            </div>
            <div class="card-content content">
              <p>
                Unfortunately Google Scholar doesn't share their data and discourages webscraping. Consequently, it doesn't have an API.
              </p>
              <p>
                Semantic Scholar has a <a href="http://api.semanticscholar.org/">free API</a>, which is great. Unfortunately however, it is too limited: It doesn't allow to retrieve information on multiple DOIs at once and enforces a rate limit, effectively rendering it unsuitable for this project's usecase.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="idea" :open="indexFAQ === 'idea'" @open="indexFAQ = 'idea'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">I have an idea! Can you implement XYZ?</h4>
            </div>
            <div class="card-content content">
              <p>
                It's great to see you're getting involved! While I see numerous ways to extend this project myself, I don't have much time to work on it anymore unfortunately. However, this web app is <a @click="indexFAQ = 'open-source'" href="#open-source">open source</a> and I'd be very happy to see others extend this project! In the meantime, check out <a @click="indexFAQ = 'bibliometrics'" href="#bibliometrics">these great applications</a>, which might already provide what you're looking for.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="open-source" :open="indexFAQ === 'open-source'" @open="indexFAQ = 'open-source'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">I'd like to contribute! Is this open source and are you looking for help? / Is this on GitHub?</h4>
            </div>
            <div class="card-content content">
              <p>
                Yes, great! This project is open source (GPL-3) and <a href="https://github.com/timwoelfle/Local-Citation-Network" target="_blank">the source can be found on GitHub</a>. I don't have much more time to work on this project, so I'm actively looking for help and contributors. Bugfixes are always welcome but please <a @click="indexFAQ = 'contact'" href="#contact">contact me</a> before any large pull-requests so we can coordinate.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="privacy" :open="indexFAQ === 'privacy'" @open="indexFAQ = 'privacy'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">Does this web app use cookies? What's the privacy policy?</h4>
            </div>
            <div class="card-content content">
              <p>
                No, this web app doesn't use any cookies. No user-tracking or fingerprinting is performed and no usage-data is collected by the author of this web app. Optionally, so-called localStorage can be used to cache results and settings locally when "Autosave results locally" is manually turned on (<a @click="indexFAQ = 'autosave'" href="#autosave">see autosave</a>).
              </p>
              <p>
                This web app is running locally on your computer and only contacts the API servers of Microsoft Academic / Crossref during runtime. Microsoft has a <a href="https://privacy.microsoft.com/en-gb/privacystatement" target="_blank" title="Microsoft's general privacy statement">general privacy statement</a>, I haven't found anything specific to the Microsoft Academic API. Crossref also has a <a href="https://www.crossref.org/privacy/" target="_blank" title="Crossref's general privacy statement">general privacy statement</a>. This web app is hosted by GitHub pages, see their <a href="https://help.github.com/en/github/site-policy/github-privacy-statement#github-pages" target="_blank" title="GitHub Pages privacy statement">privacy statement here</a>.
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="technicalities" :open="indexFAQ === 'technicalities'" @open="indexFAQ = 'technicalities'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">Technicalities: Which JavaScript libraries are used and why no CDN?</h4>
            </div>
            <div class="card-content content">
              <p>
                This web app uses <a href="completeness" target="_blank">Vue.js</a>, <a href="https://buefy.org/" target="_blank">Buefy</a> and <a href="https://visjs.org/" target="_blank">vis.js Network</a>. I opted against using content delivery networks (CDN) to speed up delivery of these JavaScript libraries and thus initial loading-time, because of the <a href="https://en.wikipedia.org/wiki/Content_delivery_network#Security_and_privacy" target="_blank">potential user-tracking by CDNs</a>. If you're interested, this rising problem is partly countered by the great browser-plugin <a href="https://decentraleyes.org/" target="_blank">Decentraleyes</a> (<a href="https://git.synz.io/Synzvato/decentraleyes/wikis/Frequently-Asked-Questions" target="_blank" title="FAQ Decentraleyes">see their FAQ</a> for more details).
              </p>
            </div>
          </b-collapse>
          <b-collapse class="card" id="contact" :open="indexFAQ === 'contact'" @open="indexFAQ = 'contact'" animation="none">
            <div slot="trigger" slot-scope="props" class="card-header" role="buton">
              <h4 class="card-header-title">Who are you, why did you create this and how can I contact you?</h4>
            </div>
            <div class="card-content content">
              <p>
                I'm Tim W√∂lfle from Germany and started creating this project during the literature review for my Master's thesis. I've often manually scanned reference lists of papers to identify seminal articles and thought this must be automized. You can contact me on <a href="https://twitter.com/timwoelfle" target="_blank">Twitter</a> or by <a href="mailto:local-citation-network@timwoelfle.de">e-mail</a>.
              </p>
            </div>
          </b-collapse>
        </div>
      </b-modal>

      <b-modal :active.sync="editListOfDOIs" has-modal-card>
        <div class="modal-card">
          <header class="modal-card-head">
            <content>
              <h4 class="modal-card-title">Import list of DOIs</h4>
              <p>Empty rows are placeholders when the DOI could not be captured for a reference. They help preserve original numbering.</p>
            </content>
          </header>
          <section style="position: relative; height:300px">
            <textarea id="rownumber" readonly="true" style="overflow-y: scroll; height: 100%; width: 80px; text-align: right; position: absolute; padding-right: 20px; color: grey; resize: none;" onscroll="this.scrollTop = document.getElementById('dois').scrollTop">{{ Array.from(editedListOfDOIs.split('\n').keys()).map(x=>x+1).join('\n') }}</textarea>
            <textarea id="dois" style="height: 100%; width: calc(100% - 50px); position: absolute; left: 50px; padding: 0px 10px; resize: none" spellcheck="false" onscroll="document.getElementById('rownumber').scrollTop = this.scrollTop" oninput="document.getElementById('rownumber').value = Array.from(this.value.split('\n').keys()).map(x=>x+1).join('\n')" v-model.lazy="editedListOfDOIs"></textarea>
          </section>
          <footer class="modal-card-foot">
            <button class="button" type="button" @click="editListOfDOIs=false">Cancel</button>
            <button class="button is-primary" @click="importList">Import with name: </button>
            <b-input v-model.lazy="listName" maxlength="100" :has-counter="false" style="width: 100%"></b-input>
          </footer>
        </div>
      </b-modal>
    </section>

    <script>
      if ((!!window.MSInputMethodContext && !!document.documentMode) || navigator.userAgent.indexOf('MSIE') !== -1 || navigator.userAgent.indexOf('Edge') !== -1) {
        window.alert('Unfortunately, this web app currently does not support Microsoft Edge and Microsoft Internet Explorer. Please use current Firefox, Safari or Chrome.')
      }
    </script>
    <script src="index.js"></script>
  </body>
</html>
